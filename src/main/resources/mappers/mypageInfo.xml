<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//ibatis.apache.org//DTD Mapper 3.0//EN" "http://ibatis.apache.org/dtd/ibatis-3-mapper.dtd">
<mapper namespace="kr.co.game.mypage.mapper.mypageMapper">

	<resultMap id="mypageMap" type="kr.co.game.mypage.dto.mypageDTO">
		<result property="userNo" column="USER_NO"></result>
		<result property="userId" column="USER_ID"></result>
		<result property="userPassword" column="USER_PASSWORD"></result>
		<result property="userName" column="USER_NAME"></result>
		<result property="userPhoneNumber" column="USER_PHONENUMBER"></result>
		<result property="userEmail" column="USER_EMAIL"></result>
		<result property="userRole" column="USER_ROLE"></result>
		<result property="userBirthdate" column="USER_BIRTHDATE"></result>
	</resultMap>
	
	<select id="userInfoSelect" resultMap="mypageMap">
		SELECT * FROM USER_INFO WHERE USER_ID = #{myId}
	</select>
	
	<update id="update">
		UPDATE USER_INFO SET USER_PASSWORD = #{mypageDTO.userPassword}, 
							 USER_PHONENUMBER = #{mypageDTO.userPhoneNumber} 
		WHERE USER_ID = #{myId}
	</update>
	
	<delete id="delete">
		DELETE FROM USER_INFO WHERE USER_ID = #{myId} 
	</delete>
	
	<select id="getPassword" resultType="String">
		SELECT USER_PASSWORD FROM USER_INFO 
		WHERE USER_ID = #{myId}
	</select>
	
</mapper>